# -*- coding: utf-8 -*-
"""
config.py â€” ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ Ð±Ð¾Ñ‚Ð° Â«Ð’Ð¾Ð¿Ñ€Ð¾Ñ Ð´Ð½Ñ 2.0Â» Ð´Ð»Ñ Ð Ð¾Ð¼Ð°Ð½Ð°.
Ð“Ð¾Ñ‚Ð¾Ð²Ð¾ Ðº Ð´ÐµÐ¿Ð»Ð¾ÑŽ Ð½Ð° Render / Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾ / Docker.

Ð’Ð°Ð¶Ð½Ð¾:
- BOT_TOKEN Ð±ÐµÑ€Ñ‘Ð¼ Ð¸Ð· Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ð¾Ð¹ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ (Render â†’ Environment â†’ BOT_TOKEN).
- Ð¢Ð²Ð¾Ð¹ Ð°Ð´Ð¼Ð¸Ð½-ID ÑƒÐ¶Ðµ Ð¿Ñ€Ð¾ÑˆÐ¸Ñ‚ Ð² ÐºÐ¾Ð´: 252641015 (Ð¼Ð¾Ð¶Ð½Ð¾ Ð´Ð¾Ð¿Ð¾Ð»Ð½ÑÑ‚ÑŒ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ð¾Ð¹ ADMIN_IDS).
"""

from __future__ import annotations
import os
from datetime import time as _time

# =========================
# Ð‘ÐÐ—ÐžÐ’Ð«Ð• ÐÐÐ¡Ð¢Ð ÐžÐ™ÐšÐ˜
# =========================

# Ð¢Ð¾ÐºÐµÐ½ Ð±Ð¾Ñ‚Ð° â€” Ð¢ÐžÐ›Ð¬ÐšÐž Ñ‡ÐµÑ€ÐµÐ· Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½ÑƒÑŽ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ (Ð±ÐµÐ· Ñ…Ð°Ñ€Ð´ÐºÐ¾Ð´Ð°)
BOT_TOKEN: str = os.getenv("BOT_TOKEN", "")

# ÐÐ´Ð¼Ð¸Ð½Ñ‹
def _parse_admins(env_val: str | None) -> list[int]:
    if not env_val:
        return []
    out = []
    for part in env_val.split(","):
        p = part.strip()
        if p.isdigit():
            out.append(int(p))
    return out

# Ð¢Ð²Ð¾Ð¹ ID ÑƒÐ¶Ðµ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½ Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ
ADMINS: list[int] = [252641015]  # â† Ñ‚Ð²Ð¾Ð¹ Ñ‡Ð¸ÑÐ»Ð¾Ð²Ð¾Ð¹ Telegram ID
# Ð”Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ Ð¼Ð¾Ð¶Ð½Ð¾ Ñ€Ð°ÑÑˆÐ¸Ñ€Ð¸Ñ‚ÑŒ Ñ‡ÐµÑ€ÐµÐ· Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½ÑƒÑŽ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ ADMIN_IDS="123,456"
_extra = _parse_admins(os.getenv("ADMIN_IDS"))
for _a in _extra:
    if _a not in ADMINS:
        ADMINS.append(_a)

# Ð›Ð¾Ð³-Ñ‡Ð°Ñ‚ (Ð¾Ð¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾)
LOG_CHAT_ID: int | None = int(os.getenv("LOG_CHAT_ID")) if os.getenv("LOG_CHAT_ID", "").isdigit() else None

# Ð§Ð°ÑÐ¾Ð²Ð¾Ð¹ Ð¿Ð¾ÑÑ Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ
TZ: str = os.getenv("TZ", "Europe/Amsterdam")

# =========================
# Ð¡Ð¡Ð«Ð›ÐšÐ˜ / Ð£ÐŸÐžÐœÐ˜ÐÐÐÐ˜Ð¯
# =========================

LINKS = {
    "channel": os.getenv("LINK_CHANNEL", "https://t.me/vse_otvety_vnutri_nas"),
    "reviews": os.getenv("LINK_REVIEWS", "https://t.me/+4Ov29pR6uj9iYjgy"),
    "mentor_contact": os.getenv("MENTOR_CONTACT", "@Mr_Nikto4"),
}

# =========================
# Ð¢Ð•ÐšÐ¡Ð¢Ð«
# =========================

START_TEXT = (
    "ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð¯ Ð±Ð¾Ñ‚ ÐºÐ°Ð½Ð°Ð»Ð° **Â«Ð’ÑÐµ Ð¾Ñ‚Ð²ÐµÑ‚Ñ‹ Ð²Ð½ÑƒÑ‚Ñ€Ð¸ Ð½Ð°ÑÂ»**.\n\n"
    "Ð—Ð´ÐµÑÑŒ Ñ‚ÐµÐ±Ñ Ð¶Ð´Ñ‘Ñ‚ **Â«Ð’Ð¾Ð¿Ñ€Ð¾Ñ Ð´Ð½Ñ 2.0Â»** Ñ Ð¼Ð¸Ð½Ð¸â€‘Ð²Ð¸ÐºÑ‚Ð¾Ñ€Ð¸Ð½Ð¾Ð¹, Ð³Ð°Ð¹Ð´Ñ‹ Ñ Ð¿Ñ€Ð°ÐºÑ‚Ð¸ÐºÐ°Ð¼Ð¸ Ð¸ Ð¿ÑƒÑ‚ÑŒ Ðº Ñ‚Ð²Ð¾ÐµÐ¹ "
    "Ð²Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½ÐµÐ¹ ÑÐ¸Ð»Ðµ. ÐŸÐµÑ€ÐµÑ…Ð¾Ð´Ð¸ Ðº Ð¿ÐµÑ€Ð²Ð¾Ð¼Ñƒ ÑˆÐ°Ð³Ñƒ Ð¸ Ð²ÐºÐ»ÑŽÑ‡Ð°Ð¹ Ð¶Ð¸Ð·Ð½ÑŒ Ð½Ð° 100%.\n\n"
    "Ð•ÑÐ»Ð¸ Ñ…Ð¾Ñ‡ÐµÑˆÑŒ ÑƒÑÐºÐ¾Ñ€Ð¸Ñ‚ÑŒ Ð¿Ñ€Ð¾Ð³Ñ€ÐµÑÑ â€” ÐµÑÑ‚ÑŒ **Ð´Ð¸Ð°Ð³Ð½Ð¾ÑÑ‚Ð¸ÐºÐ°** Ð¸ **Ð½Ð°ÑÑ‚Ð°Ð²Ð½Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾**.\n"
    f"Ð¡Ð²ÑÐ·ÑŒ Ñ Ð½Ð°ÑÑ‚Ð°Ð²Ð½Ð¸ÐºÐ¾Ð¼: {LINKS['mentor_contact']}"
)

HELP_TEXT = (
    "ÐÐ°Ð²Ð¸Ð³Ð°Ñ†Ð¸Ñ:\n"
    "â€¢ **ðŸŽ¯ Ð’Ð¾Ð¿Ñ€Ð¾Ñ Ð´Ð½Ñ** â€” ÐµÐ¶ÐµÐ´Ð½ÐµÐ²Ð½Ñ‹Ð¹ Ð²Ð¾Ð¿Ñ€Ð¾Ñ Ñ Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ð°Ð¼Ð¸ Ð¸ Ñ€Ð°Ð·Ð±Ð¾Ñ€Ð¾Ð¼.\n"
    "â€¢ **ðŸ“š Ð“Ð°Ð¹Ð´Ñ‹** â€” Ð¿Ñ€Ð°ÐºÑ‚Ð¸ÐºÐ¸ Ð¿Ð¾ Ð¾ÑÐ¾Ð·Ð½Ð°Ð½Ð½Ð¾ÑÑ‚Ð¸, ÑÐ½ÐµÑ€Ð³Ð¸Ð¸, Ð¿Ñ€Ð¸Ð²Ñ‹Ñ‡ÐºÐ°Ð¼ Ð¸ Ñ‚.Ð´.\n"
    "â€¢ **ðŸ§­ Ð”Ð¸Ð°Ð³Ð½Ð¾ÑÑ‚Ð¸ÐºÐ°** â€” Ð¼ÑÐ³ÐºÐ¸Ð¹ ÑÑ‚Ð°Ñ€Ñ‚, Ñ‡Ñ‚Ð¾Ð±Ñ‹ ÑƒÐ²Ð¸Ð´ÐµÑ‚ÑŒ ÐºÐ»ÑŽÑ‡ÐµÐ²Ñ‹Ðµ Ñ‚Ð¾Ñ‡ÐºÐ¸ Ñ€Ð¾ÑÑ‚Ð°.\n"
    "â€¢ **ðŸ’¬ ÐÐ°ÑÑ‚Ð°Ð²Ð½Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾** â€” 4 Ð½ÐµÐ´ÐµÐ»Ð¸ Ñ‚Ñ€Ð°Ð½ÑÑ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ð¸ Ñ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ¾Ð¹.\n"
    "â€¢ **ðŸ“Ž ÐžÑ‚Ð·Ñ‹Ð²Ñ‹** â€” Ð¶Ð¸Ð²Ñ‹Ðµ Ð¸ÑÑ‚Ð¾Ñ€Ð¸Ð¸ Ð¸ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹ ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ¾Ð².\n"
    "â€¢ **ðŸ“¢ ÐšÐ°Ð½Ð°Ð»** â€” Ð½Ð¾Ð²Ñ‹Ðµ Ð¿Ð¾ÑÑ‚Ñ‹, Ð¸Ð½ÑÐ°Ð¹Ñ‚Ñ‹, Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚ Â«ÑÐµÑ€Ð¸Ð°Ð»Ð°Â».\n"
)

TEXT_DIAGNOSTICS = (
    "Ð”Ð¸Ð°Ð³Ð½Ð¾ÑÑ‚Ð¸ÐºÐ° â€” Ð±Ñ‹ÑÑ‚Ñ€Ñ‹Ð¹ ÑÐ¿Ð¾ÑÐ¾Ð± ÑƒÐ²Ð¸Ð´ÐµÑ‚ÑŒ, Ð³Ð´Ðµ Ñ‚ÐµÑ€ÑÐµÑ‚ÑÑ ÑÐ½ÐµÑ€Ð³Ð¸Ñ Ð¸ Ð²Ð½Ð¸Ð¼Ð°Ð½Ð¸Ðµ. "
    "ÐŸÐ¾ Ð¸Ñ‚Ð¾Ð³Ð°Ð¼ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸ÑˆÑŒ Ð¿Ð¾Ð½ÑÑ‚Ð½ÑƒÑŽ ÐºÐ°Ñ€Ñ‚Ñƒ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ð¹. Ð¥Ð¾Ñ‡ÐµÑˆÑŒ â€” Ð½Ð°Ð¿Ð¸ÑˆÑƒ, ÐºÐ°Ðº Ð·Ð°Ð¿Ð¸ÑÐ°Ñ‚ÑŒÑÑ."
)

TEXT_MENTORING = (
    "ÐÐ°ÑÑ‚Ð°Ð²Ð½Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð½Ð° 4 Ð½ÐµÐ´ÐµÐ»Ð¸: Ñ€Ð°ÑÐ¿Ð°ÐºÑƒÐµÐ¼ Ð¿Ð¾Ñ‚ÐµÐ½Ñ†Ð¸Ð°Ð», ÑƒÑÐ¸Ð»Ð¸Ð¼ ÑƒÐ²ÐµÑ€ÐµÐ½Ð½Ð¾ÑÑ‚ÑŒ, ÑƒÐ±ÐµÑ€Ñ‘Ð¼ Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ñ, "
    "Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¸Ð¼ Ñ€ÐµÐ¶Ð¸Ð¼ Ð¸ Ð¿Ñ€Ð°ÐºÑ‚Ð¸ÐºÐ¸. Ð”Ð²Ð¸Ð³Ð°ÐµÐ¼ÑÑ ÑˆÐ°Ð³ Ð·Ð° ÑˆÐ°Ð³Ð¾Ð¼ â€” Ð² Ñ‚Ð²Ð¾Ñ‘Ð¼ Ñ‚ÐµÐ¼Ð¿Ðµ."
)

TEXT_GUIDES = (
    "ÐŸÐ¾Ð´Ð±Ð¾Ñ€ÐºÐ° Ð³Ð°Ð¹Ð´Ð¾Ð². Ð’Ñ‹Ð±Ð¸Ñ€Ð°Ð¹ Ñ‚Ð¾, Ñ‡Ñ‚Ð¾ ÑÐµÐ¹Ñ‡Ð°Ñ Ð¾ÑÐ¾Ð±ÐµÐ½Ð½Ð¾ Ð²Ð°Ð¶Ð½Ð¾. "
    "Ð¥Ð¾Ñ‡ÐµÑˆÑŒ Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸ÑŽ Ð¿Ð¾Ð´ Ñ‚Ð²Ð¾ÑŽ ÑÐ¸Ñ‚ÑƒÐ°Ñ†Ð¸ÑŽ â€” Ð½Ð°Ð¿Ð¸ÑˆÐ¸ ÐºÑ€Ð°Ñ‚ÐºÐ¾, Ñ‡Ñ‚Ð¾ Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´Ð¸Ñ‚."
)

TEXT_QUESTION_OF_DAY_INTRO = (
    "Ð“Ð¾Ñ‚Ð¾Ð²? **Ð’Ð¾Ð¿Ñ€Ð¾Ñ Ð´Ð½Ñ 2.0** ÑƒÐ¶Ðµ Ñ‚ÑƒÑ‚. ÐžÑ‚Ð²ÐµÑ‡Ð°Ð¹ Ð¸Ð½Ñ‚ÑƒÐ¸Ñ‚Ð¸Ð²Ð½Ð¾, Ð° Ð¿Ð¾Ñ‚Ð¾Ð¼ â€” ÐºÐ¾Ñ€Ð¾Ñ‚ÐºÐ¸Ð¹ Ñ€Ð°Ð·Ð±Ð¾Ñ€."
)

TEXT_AFTER_ANSWER_RIGHT = "âœ“ Ð’ÐµÑ€Ð½Ð¾! ÐšÐ»Ð°ÑÑÐ½Ñ‹Ð¹ Ð²Ñ‹Ð±Ð¾Ñ€. Ð Ð°Ð·Ð±Ð¾Ñ€ Ð½Ð¸Ð¶Ðµ ðŸ‘‡"
TEXT_AFTER_ANSWER_WRONG = "Ð¥Ð¾Ñ€Ð¾ÑˆÐ°Ñ Ð¿Ð¾Ð¿Ñ‹Ñ‚ÐºÐ°. Ð¡Ð¼Ð¾Ñ‚Ñ€Ð¸ Ñ€Ð°Ð·Ð±Ð¾Ñ€ Ð¸ Ð·Ð°Ð±Ð¸Ñ€Ð°Ð¹ Ð¿Ð¾Ð»ÑŒÐ·Ñƒ ðŸ‘‡"

TEXT_EXPLANATION_FOOTER = (
    "Ð¥Ð¾Ñ‡ÐµÑˆÑŒ Ð³Ð»ÑƒÐ±Ð¶Ðµ Ð¿Ñ€Ð¾Ð¹Ñ‚Ð¸ Ñ‚ÐµÐ¼Ñƒ â€” Ð¾Ñ‚ÐºÑ€Ð¾Ð¹ Ð³Ð°Ð¹Ð´ Ð¸Ð»Ð¸ ÑÐ¿Ñ€Ð¾ÑÐ¸ Ð¿Ñ€Ð¾ Ð´Ð¸Ð°Ð³Ð½Ð¾ÑÑ‚Ð¸ÐºÑƒ."
)

# =========================
# ÐšÐÐžÐŸÐšÐ˜
# =========================

BUTTONS = {
    "main_menu": [
        "ðŸŽ¯ Ð’Ð¾Ð¿Ñ€Ð¾Ñ Ð´Ð½Ñ",
        "ðŸ“š Ð“Ð°Ð¹Ð´Ñ‹",
        "ðŸ§­ Ð”Ð¸Ð°Ð³Ð½Ð¾ÑÑ‚Ð¸ÐºÐ°",
        "ðŸ’¬ ÐÐ°ÑÑ‚Ð°Ð²Ð½Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾",
        "ðŸ“Ž ÐžÑ‚Ð·Ñ‹Ð²Ñ‹",
        "ðŸ“¢ ÐšÐ°Ð½Ð°Ð»",
        "â” ÐŸÐ¾Ð¼Ð¾Ñ‰ÑŒ",
    ],
    "back": "â—€ï¸ ÐÐ°Ð·Ð°Ð´",
    "next": "Ð”Ð°Ð»ÑŒÑˆÐµ â†’",
    "get_question": "ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð²Ð¾Ð¿Ñ€Ð¾Ñ",
    "show_guides": "ÐžÑ‚ÐºÑ€Ñ‹Ñ‚ÑŒ Ð³Ð°Ð¹Ð´Ñ‹",
    "contact_mentor": "Ð¡Ð²ÑÐ·Ð°Ñ‚ÑŒÑÑ Ñ Ð½Ð°ÑÑ‚Ð°Ð²Ð½Ð¸ÐºÐ¾Ð¼",
    "open_reviews": "Ð¡Ð¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð¾Ñ‚Ð·Ñ‹Ð²Ñ‹",
    "open_channel": "ÐŸÐµÑ€ÐµÐ¹Ñ‚Ð¸ Ð² ÐºÐ°Ð½Ð°Ð»",
    "take_diagnostic": "Ð—Ð°Ð¿Ð¸ÑÐ°Ñ‚ÑŒÑÑ Ð½Ð° Ð´Ð¸Ð°Ð³Ð½Ð¾ÑÑ‚Ð¸ÐºÑƒ",
}

# =========================
# Ð“ÐÐ™Ð”Ð« (Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ñ‹)
# =========================

GUIDES = [
    {
        "slug": "awareness_daily",
        "title": "ÐžÑÐ¾Ð·Ð½Ð°Ð½Ð½Ð¾ÑÑ‚ÑŒ Ð½Ð° ÐºÐ°Ð¶Ð´Ñ‹Ð¹ Ð´ÐµÐ½ÑŒ",
        "description": "5 Ð¼Ð¸Ð½ÑƒÑ‚ ÑƒÑ‚Ñ€Ð¾Ð¼ Ð¸ Ð²ÐµÑ‡ÐµÑ€Ð¾Ð¼: Ð²Ð½Ð¸Ð¼Ð°Ð½Ð¸Ðµ, Ð´Ñ‹Ñ…Ð°Ð½Ð¸Ðµ, Ð½Ð°Ð±Ð»ÑŽÐ´ÐµÐ½Ð¸Ðµ.",
        "file_id": None,
        "steps": [
            "1 Ð¼Ð¸Ð½ â€” Ð´Ñ‹Ñ…Ð°Ð½Ð¸Ðµ Ñ‡ÐµÑ€ÐµÐ· Ð½Ð¾Ñ, ÑÑ‡Ñ‘Ñ‚ 4â€“4â€“4",
            "3 Ð½Ð°Ð±Ð»ÑŽÐ´ÐµÐ½Ð¸Ñ Ð·Ð° Ð´ÐµÐ½ÑŒ: Ñ‚ÐµÐ»Ð¾, Ð¼Ñ‹ÑÐ»ÑŒ, Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ",
            "Ð’ÐµÑ‡ÐµÑ€Ð¾Ð¼ â€” 1 Ð¸Ð½ÑÐ°Ð¹Ñ‚ Ð¸ 1 Ð±Ð»Ð°Ð³Ð¾Ð´Ð°Ñ€Ð½Ð¾ÑÑ‚ÑŒ",
        ],
        "stickers": ["â†’", "ðŸ“", "ðŸ”¸"],
    },
    {
        "slug": "energy_reset",
        "title": "Reset ÑÐ½ÐµÑ€Ð³Ð¸Ð¸ Ð·Ð° 7 Ð¼Ð¸Ð½ÑƒÑ‚",
        "description": "Ð‘Ñ‹ÑÑ‚Ñ€Ñ‹Ð¹ Ð¿ÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÐº: Ñ‚ÐµÐ»Ð¾, Ð²Ð¾Ð´Ð°, Ð´Ð²Ð¸Ð¶ÐµÐ½Ð¸Ðµ, Ñ„Ð¾ÐºÑƒÑ.",
        "file_id": None,
        "steps": [
            "Ð¡Ñ‚Ð°ÐºÐ°Ð½ Ð²Ð¾Ð´Ñ‹",
            "60â€“90 ÑÐµÐº â€” Ð²ÑÑ‚Ñ€ÑÑ…Ð¸Ð²Ð°Ð½Ð¸Ðµ Ñ‚ÐµÐ»Ð°",
            "Ð¤Ð¾ÐºÑƒÑâ€‘Ð²Ð¾Ð¿Ñ€Ð¾Ñ: Â«Ð§Ñ‚Ð¾ ÑÐµÐ¹Ñ‡Ð°Ñ Ð²Ð°Ð¶Ð½ÐµÐµ Ð²ÑÐµÐ³Ð¾?Â»",
        ],
        "stickers": ["â†’", "ðŸ“Œ"],
    },
    {
        "slug": "habit_21",
        "title": "ÐŸÑ€Ð¸Ð²Ñ‹Ñ‡ÐºÐ° Ð·Ð° 21 Ð´ÐµÐ½ÑŒ",
        "description": "ÐœÑÐ³ÐºÐ°Ñ Ð¸Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ñ Ð¿Ñ€Ð¸Ð²Ñ‹Ñ‡ÐºÐ¸ Ð±ÐµÐ· Ð²Ñ‹Ð³Ð¾Ñ€Ð°Ð½Ð¸Ñ.",
        "file_id": None,
        "steps": [
            "Ð’Ñ‹Ð±ÐµÑ€Ð¸ Ð¾Ð´Ð½Ñƒ Ð¼Ð¸Ð½Ð¸â€‘Ð¿Ñ€Ð¸Ð²Ñ‹Ñ‡ÐºÑƒ",
            "ÐŸÑ€Ð¸Ð²ÑÐ¶Ð¸ Ðº Ñ‚Ñ€Ð¸Ð³Ð³ÐµÑ€Ñƒ (Ð¿Ð¾ÑÐ»Ðµ ÐºÐ¾Ñ„Ðµ/Ð´ÑƒÑˆÐ°/Ñ‚Ñ€ÐµÐ½Ð¸Ñ€Ð¾Ð²ÐºÐ¸)",
            "ÐžÑ‚Ð¼ÐµÑ‡Ð°Ð¹ 21 Ð´ÐµÐ½ÑŒ, Ð±Ð¾Ð½ÑƒÑ â€” Ð´ÐµÐ½ÑŒ 22 ÐºÐ°Ðº Ñ€ÐµÐ²Ð¸Ð·Ð¸Ñ",
        ],
        "stickers": ["âœ“", "â†’"],
    },
]

# =========================
# Ð’ÐžÐŸÐ ÐžÐ¡ Ð”ÐÐ¯ 2.0
# =========================

QUESTIONS = [
    {
        "id": "q_awareness_vs_noise",
        "text": "Ð§Ñ‚Ð¾ Ð±Ñ‹ÑÑ‚Ñ€ÐµÐµ Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÑ‚ Ñ‚ÐµÐ±Ñ Ð² Ñ€ÐµÑÑƒÑ€Ñ Ð² Ñ‚ÐµÑ‡ÐµÐ½Ð¸Ðµ Ð´Ð½Ñ?",
        "options": [
            "1 Ð¼Ð¸Ð½ Ð´Ñ‹Ñ…Ð°Ð½Ð¸Ñ Ð¸ Ð¿Ð°ÑƒÐ·Ð°",
            "Ð¡Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ð·Ð°Ð´Ð°Ñ‡Ñƒ Ð¸ Ð¿Ñ€Ð¾Ð´Ð¾Ð»Ð¶Ð°Ñ‚ÑŒ Ð² Ñ‚ÐµÐ¼Ð¿Ðµ",
            "Ð¡Ð¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ Ð¸ Ð»ÐµÐ½Ñ‚Ð° â€” Ð¿ÐµÑ€ÐµÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒÑÑ Ð¼Ñ‹ÑÐ»ÑÐ¼Ð¸",
        ],
        "correct": 0,
        "explain": (
            "ÐšÐ¾Ñ€Ð¾Ñ‚ÐºÐ°Ñ Ð¿Ð°ÑƒÐ·Ð° + Ð´Ñ‹Ñ…Ð°Ð½Ð¸Ðµ â€” Ð±Ñ‹ÑÑ‚Ñ€Ñ‹Ð¹ ÑÐ¿Ð¾ÑÐ¾Ð± Ð²ÐµÑ€Ð½ÑƒÑ‚ÑŒ Ð¿Ñ€Ð¸ÑÑƒÑ‚ÑÑ‚Ð²Ð¸Ðµ Ð¸ ÑÑÐ½Ð¾ÑÑ‚ÑŒ. "
            "Ð¡Ð¼ÐµÐ½Ð° Ð·Ð°Ð´Ð°Ñ‡ Ð´Ð°Ñ‘Ñ‚ ÑÑ„Ñ„ÐµÐºÑ‚, Ð½Ð¾ Ñ‡Ð°ÑÑ‚Ð¾ Ñ€Ð°Ð·Ð¼ÐµÐ½Ð¸Ð²Ð°ÐµÑ‚ Ñ„Ð¾ÐºÑƒÑ. Ð›ÐµÐ½Ñ‚Ð° ÑƒÐ²Ð¾Ð´Ð¸Ñ‚ Ð²Ð½Ð¸Ð¼Ð°Ð½Ð¸Ðµ Ð¸ ÑÑŠÐµÐ´Ð°ÐµÑ‚ ÑÐ½ÐµÑ€Ð³Ð¸ÑŽ."
        ),
        "image_file_id": None,
    },
    {
        "id": "q_energy_morning",
        "text": "Ð£Ñ‚Ñ€Ð¾Ð¼ Ñ‚Ñ‹ Ñ…Ð¾Ñ‡ÐµÑˆÑŒ Ð¿Ð¾Ð´Ð½ÑÑ‚ÑŒ ÑÐ½ÐµÑ€Ð³Ð¸ÑŽ. Ð§Ñ‚Ð¾ ÑÑ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ð½Ð°Ð´Ñ‘Ð¶Ð½ÐµÐµ Ð²ÑÐµÐ³Ð¾?",
        "options": [
            "Ð¡Ñ‚Ð°ÐºÐ°Ð½ Ð²Ð¾Ð´Ñ‹ + 2 Ð¼Ð¸Ð½ÑƒÑ‚Ñ‹ Ð´Ð²Ð¸Ð¶ÐµÐ½Ð¸Ñ",
            "Ð•Ñ‰Ñ‘ 15 Ð¼Ð¸Ð½ÑƒÑ‚ Ð² Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½Ðµ",
            "Ð¡Ñ€Ð°Ð·Ñƒ Ð¿Ñ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð²ÑÐµ Ð·Ð°Ð´Ð°Ñ‡Ð¸",
        ],
        "correct": 0,
        "explain": (
            "Ð’Ð¾Ð´Ð° + Ð´Ð²Ð¸Ð¶ÐµÐ½Ð¸Ðµ Ð¿Ñ€Ð¾Ð±ÑƒÐ¶Ð´Ð°ÑŽÑ‚ Ñ‚ÐµÐ»Ð¾ Ð¸ Ð¼Ð¾Ð·Ð³. Ð¢ÐµÐ»ÐµÑ„Ð¾Ð½ Ð¸ Ð¿ÐµÑ€ÐµÑ‡ÐµÐ½ÑŒ Ð·Ð°Ð´Ð°Ñ‡ Ñ‡Ð°ÑÑ‚Ð¾ ÑÐ¾Ð·Ð´Ð°ÑŽÑ‚ ÑˆÑƒÐ¼, "
            "Ð° Ñ‚ÐµÐ»Ð¾ Ð¾ÑÑ‚Ð°Ñ‘Ñ‚ÑÑ ÑÐ¾Ð½Ð½Ñ‹Ð¼ â€” Ñ„Ð¾ÐºÑƒÑ ÑÐ½Ð¸Ð¶Ð°ÐµÑ‚ÑÑ."
        ),
        "image_file_id": None,
    },
    {
        "id": "q_habit_mini",
        "text": "ÐšÐ°ÐºÐ¾Ð¹ Ð¿Ð¾Ð´Ñ…Ð¾Ð´ Ð¿Ð¾Ð¼Ð¾Ð³Ð°ÐµÑ‚ Ð·Ð°ÐºÑ€ÐµÐ¿Ð¸Ñ‚ÑŒ Ð¿Ñ€Ð¸Ð²Ñ‹Ñ‡ÐºÑƒ Ð·Ð° 21 Ð´ÐµÐ½ÑŒ?",
        "options": [
            "ÐžÐ´Ð½Ð° Ð¼Ð¸Ð½Ð¸â€‘Ð¿Ñ€Ð¸Ð²Ñ‹Ñ‡ÐºÐ° + Ð¿Ñ€Ð¸Ð²ÑÐ·ÐºÐ° Ðº Ñ‚Ñ€Ð¸Ð³Ð³ÐµÑ€Ñƒ",
            "Ð¡Ñ€Ð°Ð·Ñƒ 5 Ð¿Ñ€Ð¸Ð²Ñ‹Ñ‡ÐµÐº Ð¸ Ð¶Ñ‘ÑÑ‚ÐºÐ¸Ð¹ Ñ€ÐµÐ¶Ð¸Ð¼",
            "Ð¢Ð¾Ð»ÑŒÐºÐ¾ Ð¼Ð¾Ñ‚Ð¸Ð²Ð°Ñ†Ð¸Ñ Ð¸ Ð²Ð´Ð¾Ñ…Ð½Ð¾Ð²ÐµÐ½Ð¸Ðµ",
        ],
        "correct": 0,
        "explain": (
            "ÐœÐ¸Ð½Ð¸â€‘Ð¿Ñ€Ð¸Ð²Ñ‹Ñ‡ÐºÐ°, Ð·Ð°ÐºÑ€ÐµÐ¿Ð»Ñ‘Ð½Ð½Ð°Ñ Ðº ÑƒÑÑ‚Ð¾Ð¹Ñ‡Ð¸Ð²Ð¾Ð¼Ñƒ Ñ‚Ñ€Ð¸Ð³Ð³ÐµÑ€Ñƒ (Ð´ÑƒÑˆ, ÐºÐ¾Ñ„Ðµ, Ð¿Ñ€Ð¾Ð³ÑƒÐ»ÐºÐ°), "
            "ÑÐ¾Ð·Ð´Ð°Ñ‘Ñ‚ Ð»Ñ‘Ð³ÐºÐ¸Ð¹ Ð²Ñ…Ð¾Ð´ Ð¸ ÑÑ‚Ð°Ð±Ð¸Ð»ÑŒÐ½Ð¾ÑÑ‚ÑŒ. ÐŸÐ°ÐºÐµÑ‚ Ð¸Ð· 5 Ð¿Ñ€Ð¸Ð²Ñ‹Ñ‡ÐµÐº Ð¿ÐµÑ€ÐµÐ³Ñ€ÑƒÐ¶Ð°ÐµÑ‚, "
            "Ð° Ð¼Ð¾Ñ‚Ð¸Ð²Ð°Ñ†Ð¸Ñ Ð±ÐµÐ· ÑÐ¸ÑÑ‚ÐµÐ¼Ñ‹ Ð±Ñ‹ÑÑ‚Ñ€Ð¾ Ð³Ð°ÑÐ½ÐµÑ‚."
        ),
        "image_file_id": None,
    },
]

QUESTION_OF_DAY_HEADER = "Ð¡ÐµÐ³Ð¾Ð´Ð½ÑÑˆÐ½Ð¸Ð¹ Ñ„Ð¾ÐºÑƒÑâ€‘Ð²Ð¾Ð¿Ñ€Ð¾Ñ:"

# =========================
# Ð ÐžÐ¢ÐÐ¦Ð˜Ð¯ Ð˜ Ð ÐÐ¡ÐŸÐ˜Ð¡ÐÐÐ˜Ð•
# =========================

AUTO_ROTATE_QUESTION: bool = True
QUESTION_PUSH_TIME: _time = _time(
    hour=int(os.getenv("PUSH_HOUR", "9")),
    minute=int(os.getenv("PUSH_MIN", "0")),
    second=0
)
ALLOW_RETRY_SAME_DAY: bool = bool(int(os.getenv("ALLOW_RETRY_SAME_DAY", "0")))

# =========================
# Ð¥Ð ÐÐÐ˜Ð›Ð˜Ð©Ð• / Ð¤ÐÐ™Ð›Ð«
# =========================

DATA_DIR = os.getenv("DATA_DIR", "data")
DB_PATH = os.path.join(DATA_DIR, "bot.sqlite3")
USER_STATE_PATH = os.path.join(DATA_DIR, "user_state.json")

# =========================
# Ð¡Ð¢ÐÐ¢Ð˜Ð¡Ð¢Ð˜ÐšÐ / ÐÐÐÐ›Ð˜Ð¢Ð˜ÐšÐ
# =========================

STATS = {
    "collect_answers": True,
    "collect_guide_clicks": True,
    "send_daily_report": False,
}

REPORT_TEMPLATES = {
    "daily_header": "Ð•Ð¶ÐµÐ´Ð½ÐµÐ²Ð½Ñ‹Ð¹ Ð¾Ñ‚Ñ‡Ñ‘Ñ‚ Ð±Ð¾Ñ‚Ð°",
    "answers_line": "ÐžÑ‚Ð²ÐµÑ‚Ð¾Ð² Ð½Ð° Â«Ð’Ð¾Ð¿Ñ€Ð¾Ñ Ð´Ð½ÑÂ»: {count}",
    "guides_line": "ÐžÑ‚ÐºÑ€Ñ‹Ñ‚Ð¸Ð¹ Ð³Ð°Ð¹Ð´Ð¾Ð²: {count}",
}

# =========================
# ÐŸÐ Ð•Ð”ÐžÐŸÐ Ð•Ð”Ð•Ð›ÐÐÐÐ«Ð• ÐšÐÐžÐŸÐšÐ˜â€‘Ð¡Ð¡Ð«Ð›ÐšÐ˜
# =========================

INLINE_LINKS = {
    "reviews": {"title": "ðŸ“Ž ÐžÑ‚Ð·Ñ‹Ð²Ñ‹", "url": LINKS["reviews"]},
    "channel": {"title": "ðŸ“¢ ÐšÐ°Ð½Ð°Ð»", "url": LINKS["channel"]},
    "mentor": {"title": "ÐÐ°Ð¿Ð¸ÑÐ°Ñ‚ÑŒ Ð½Ð°ÑÑ‚Ð°Ð²Ð½Ð¸ÐºÑƒ", "url": f"https://t.me/{LINKS['mentor_contact'].lstrip('@')}"},
}

# =========================
# ÐÐÐ¢Ð˜â€‘Ð¤Ð›Ð£Ð” / Ð¢Ð•Ð¥ÐÐ˜Ð§Ð•Ð¡ÐšÐ˜Ð•
# =========================

FLOOD = {"answer_cooldown_sec": 2}
DEBUG: bool = bool(int(os.getenv("DEBUG", "0")))

def get_question_for_day(day_index: int) -> dict:
    if not QUESTIONS:
        raise RuntimeError("Ð¡Ð¿Ð¸ÑÐ¾Ðº QUESTIONS Ð¿ÑƒÑÑ‚ â€” Ð´Ð¾Ð±Ð°Ð²ÑŒ Ñ…Ð¾Ñ‚Ñ Ð±Ñ‹ Ð¾Ð´Ð¸Ð½ Ð²Ð¾Ð¿Ñ€Ð¾Ñ.")
    return QUESTIONS[day_index % len(QUESTIONS)]

def safe_get_guide(slug: str) -> dict | None:
    for g in GUIDES:
        if g["slug"] == slug:
            return g
    return None